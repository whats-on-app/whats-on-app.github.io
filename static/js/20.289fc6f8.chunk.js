(this.webpackJsonpwhatson=this.webpackJsonpwhatson||[]).push([[20],{110:function(e,t,n){const{version:a}=n(88);e.exports=()=>{console.log("%cWelcome to What's on? %cv".concat(a,"%c\nDoes this page needs fixes or improvements? Open an issue or contribute to a merge request to help make What's on? more lovable.\n\n\ud83d\udd0e Create a new GitHub issue: https://github.com/pierrevano/whatson/issues/new"),"padding-top: 0.5em; font-size: 2em; padding-bottom: 0.5em;","background: #28A745; font-size: 1.8em; color: #FFF; padding: 0.1em","padding-top: 0em; font-size: 1em; padding-bottom: 0em;")}},134:function(e,t,n){"use strict";n.r(t);var a,r,o,i,l=n(7),c=n(0),s=n.n(c),m=n(1),d=n(8),u=n(49),p=n(47),g=n(40),v=n(37);const b=m.d.label(a||(a=Object(l.a)(["\n\tbackground: ",";\n\tcolor: ",";\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 0.25rem;\n\tposition: relative;\n\tbox-shadow: 0 0 4rem 0.125rem ",";\n\tpadding: 0.5rem 0.625rem;\n\t","\n\t&:focus-within{\n\t\t&:before{\n\t\tcontent: '';\n\t\tborder-radius: 0.25rem;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\t","}\n\t\t}\n\t}\n"])),e=>e.theme.colors.white,e=>e.theme.colors.lightGrey,e=>e.theme.colors.dark,Object(g.a)("sm")(r||(r=Object(l.a)(["\n\t\tpadding: 0.75rem;\n\t"]))),e=>e.theme.focusShadow),h=()=>s.a.createElement("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{fill:"none",stroke:"currentColor",strokeWidth:"2"},s.a.createElement("path",{d:"M14.5 14.5l-3.72-3.72"}),s.a.createElement("circle",{cx:"6.67",cy:"6.67",r:"5.33"}))),f=m.d.input(o||(o=Object(l.a)(["\n  color: ",";\n  border: none;\n  background: none;\n  outline: none;\n  flex: 1;\n  ",";\n  margin-left: 0.375rem;\n  ","\n  &::placeholder {\n    color: ",";\n  }\n  &::selection {\n    background: ",";\n    color: ",";\n  }\n"])),e=>e.theme.colors.dark,e=>e.theme.typography[0],Object(g.a)("sm")(i||(i=Object(l.a)(["\n\t\tmargin-left: 0.5rem;\n\t"]))),e=>e.theme.colors.lightGrey,e=>e.theme.colors.lightGrey,e=>e.theme.colors.white),y=e=>"movies"===e?"movies":"people"===e?"people":"tvshows"===e?"tvshows":"movies, tvshows or people";var j=e=>{let{kindURL:t,value:n,onChange:a,...r}=e;return s.a.createElement(v.a,r,s.a.createElement(b,null,s.a.createElement(h,null),s.a.createElement(f,{placeholder:"Search for ".concat(y(t),"..."),autoFocus:!0,value:n,onChange:a}),n&&s.a.createElement("i",{className:"pi pi-times-circle",onClick:()=>a({target:{value:""}}),style:{zIndex:2,cursor:"pointer"}})))},w=n(56),E=n(109),_=n(74),O=n(48),k=n(57),x=n(78),S=n(42);const C=k.a.parse(window.location.search),I=C.cinema_id,R=C.item_type,T=C.minimum_ratings,M=C.platforms,L=C.popularity_filters,D=C.ratings_filters,q=C.seasons_number,z=C.status,B=e=>{let{page:t,setPage:n}=e;return Object(c.useEffect)(()=>n(t+1)),null};var W,F=e=>{var t,n,a;let{search:r,page:o,setPage:i,isLastPage:l,kindURL:m}=e;const[g,v]=Object(u.a)("cinema_id",""),[b,h]=Object(u.a)("item_type",""),[f,y]=Object(u.a)("minimum_ratings",""),[j,k]=Object(u.a)("platforms",""),[C,W]=Object(u.a)("popularity_filters",""),[F,U]=Object(u.a)("ratings_filters",""),[A,N]=Object(u.a)("seasons_number",""),[G,P]=Object(u.a)("status","");Object(c.useEffect)(()=>{"undefined"!==typeof I&&v(I),"undefined"!==typeof R&&h(R),"undefined"!==typeof T&&y(T),"undefined"!==typeof M&&k(M),"undefined"!==typeof L&&W(L),"undefined"!==typeof D&&U(D),"undefined"!==typeof q&&N(q),"undefined"!==typeof z&&P(z)}),Object(c.useEffect)(()=>{""===F||document.querySelector(".p-inputwrapper").classList.contains("p-inputwrapper-filled")||document.querySelector(".p-inputwrapper").classList.add("p-inputwrapper-filled")});let{loading:J,data:H,error:$}=Object(w.a)(((e,t,n,a,r,o,i,l,c,s,m)=>{const d=Object(x.a)(e,I,t,R,a,T,o,M,i,L,l,D,s,q,m,z);return"movies"===n||"people"===n||"search"===n||"tvshows"===n?"".concat(S.a.base,"/search/").concat(Object(p.a)(n),"?api_key=").concat(S.a.api,"&query=").concat(c,"&page=").concat(r):"".concat(S.a.cors_url,"/").concat(S.a.base_render_api,"/").concat(d,"&page=").concat(r)})(g,b,m,f,o,j,C,F,r,A,G));const[V,K]=Object(E.a)(),Q=e=>"tvshow"===b||"tvshow"===e?"tvshows":"movies",X=[{title:"I\u2019m sorry Dave.",description:"I\u2019m afraid I can\u2019t do that."},{title:"Into exile I must go.",description:"Failed I have."},{title:"Well, if I I've made a mistake,",description:"I'm sorry and I hope you'll forgive me."}],[Y]=Object(c.useState)(()=>{return(e=X)[Math.floor(Math.random()*e.length)];var e});if($&&r)return s.a.createElement(d.a,{xs:12},s.a.createElement(O.a,{emoji:"\u274c",title:Y.title,description:Y.description}));if(J)return Array(20).fill(0).map((e,t)=>s.a.createElement(d.a,{key:t,xs:6,sm:4,md:3,xg:2},s.a.createElement(_.a,{key:t,loading:!0})));if(H&&(null===H||void 0===H||null===(t=H.results)||void 0===t||!t.length)&&""!==r&&"search"===m)return s.a.createElement(d.a,{xs:12},s.a.createElement(O.a,{emoji:"\ud83d\ude15",title:"No results found for ".concat(r),description:"let\u2019s try another one"}));if(null===H||void 0===H||null===(n=H.results)||void 0===n||!n.length)return null;const Z=null===H||void 0===H?void 0:H.total_pages;return s.a.createElement(c.Fragment,null,null===H||void 0===H||null===(a=H.results)||void 0===a?void 0:a.map(e=>s.a.createElement(d.a,{key:e.id,xs:6,sm:4,md:3,xg:2},s.a.createElement(_.a,Object.assign({kindURL:"search"===m||"movies"===m||"people"===m||"tvshows"===m?m:Q(R)},e)))),l&&Z&&Z>o&&s.a.createElement(d.a,{xs:6,sm:4,md:3,xg:2},s.a.createElement(_.a,{onClick:()=>i(o+1),loadMore:!0}),o>1&&s.a.createElement("div",{ref:V},K&&s.a.createElement(B,{page:o,setPage:i}))))},U=n(41);const A=Object(m.d)(U.a)(W||(W=Object(l.a)(["\n  border-radius: 0.125rem;\n  color: currentColor;\n  outline: none;\n  &:focus,\n  &:hover {\n    color: ",";\n    text-decoration: none;\n  }\n"])),e=>e.theme.colors.green);var N=e=>{let{kind:t,...n}=e;return"movies"===t?s.a.createElement(O.a,Object.assign({title:"Search for movies"},n)):"people"===t?s.a.createElement(O.a,Object.assign({title:"Search for people"},n)):"tvshows"===t?s.a.createElement(O.a,Object.assign({title:"Search for tvshows"},n)):s.a.createElement(O.a,Object.assign({title:s.a.createElement("span",null,"Search for"," ",s.a.createElement(A,{to:"/movies",ariaLabel:"Search for movies"},"movies"),","," ",s.a.createElement(A,{to:"/tvshows",ariaLabel:"Search for tvshows"},"tvshows")," ","or"," ",s.a.createElement(A,{to:"/people",ariaLabel:"Search for people"},"people"))},n))},G=n(88);var P=()=>{const e=e=>+e.replace(/\D/g,"");return Object(c.useEffect)(()=>{fetch("/meta.json?v=".concat(+new Date),{cache:"no-cache"}).then(e=>e.json()).then(t=>{if(null!==t&&void 0!==t&&t.version){const r=e(t.version),o=e(G.version);var n,a;if(localStorage.setItem("version",r),o<r)null!==(n=window)&&void 0!==n&&null!==(a=n.location)&&void 0!==a&&a.reload&&(caches&&caches.keys().then(e=>{for(const t of e)caches.delete(t)}),window.location.reload(!0),window.location.reload())}}).catch(e=>{console.error("something went wrong fetching meta.json",e)})},[]),null};var J,H,$=(e,t)=>{const n=localStorage.getItem("beamanalytics")||"true",a=k.a.parse(window.location.search).beamanalytics;Object(c.useEffect)(()=>{if("undefined"!==typeof a&&localStorage.setItem("beamanalytics",a),"false"!==n&&"false"!==a){const n=document.createElement("script");return n.src=e,n.async=!0,n.setAttribute("data-token",t),document.body.appendChild(n),()=>{document.body.removeChild(n)}}},[n,a,e,t])},V=n(110),K=n.n(V);const Q=m.d.div(J||(J=Object(l.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  transition: 0.2s all;\n"]))),X=Object(m.d)(j)(H||(H=Object(l.a)(["\n  position: sticky;\n  top: 0.875rem;\n  z-index: 3;\n"])));t.default=e=>{let{isSearchable:t=!0,kindURL:n="multi"}=e;P(),K()(),$(S.a.base_beamanalytics,S.a.beamanalytics_token),Object(c.useEffect)(()=>{setTimeout(()=>{window.scrollTo(0,0)},100)},[]),Object(c.useEffect)(()=>{document.title=Object(p.b)(n)},[]);const[a,r]=Object(u.a)("search",""),[o,i]=Object(u.a)("page","1"),l=[...Array(+o).fill(0).map((e,t)=>t+1)];return s.a.createElement(Q,null,t&&s.a.createElement(X,{value:a,onChange:e=>{r(e.target.value),i(1)},kindURL:n}),s.a.createElement(v.a,null,s.a.createElement(d.c,{"vertical-gutter":!0,style:{marginTop:("movies"===n||"people"===n||"search"===n||"tvshows"===n)&&"2rem",marginBottom:"2rem",position:"relative",zIndex:("movies"===n||"people"===n||"search"===n||"tvshows"===n)&&2}},l.map(e=>s.a.createElement(F,{key:e,search:a,page:e,setPage:i,isLastPage:l.slice(-1)[0]===e,kindURL:n})))),!a&&("movies"===n||"people"===n||"search"===n||"tvshows"===n)&&s.a.createElement(N,{emoji:"\u261d\ufe0f",kind:n,description:"use the search bar above"}))}},31:function(e,t,n){"use strict";var a,r=n(7),o=n(1),i=n(40);var l;const c=o.d.div(l||(l=Object(r.a)(["\n  color: ",";\n  font-weight: ",";\n  ","\n"])),e=>e.color||"currentColor",e=>e.weight,e=>{return t=e.theme.breakpoints,n=t=>e.theme.typography[t],e=>Object.keys(e).filter(e=>Object.keys(t).includes(e)).map(o=>Object(i.b)(t)[o](a||(a=Object(r.a)(["",""])),n(e[o],e)));var t,n});c.defaultProps={xs:0};t.a=c},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(7),r=n(1);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=typeof e;return"number"===t?e:"string"!==t?0:/^\d+px/.test(e)?parseFloat(e,10):/^\d+rem/.test(e)?16*parseFloat(e):e},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o(e)?"".concat(o(e),"px"):e};var l,c;const s=e=>Object.keys(e).reduce((t,n)=>(t[n]=function(){return Object(r.c)(l||(l=Object(a.a)(["\n      @media (min-width: ",") {\n        ","\n      }\n    "])),i(o(e[n].width)),Object(r.c)(...arguments))},t),{});t.a=e=>function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return t=>{let{theme:l}=t;return Object(r.c)(c||(c=Object(a.a)(["\n    @media (min-width: ",") {\n      ","\n    }\n  "])),i(o(l.breakpoints[e].width)),Object(r.c)(...n))}}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>"movies"===e?"Movies":"multi"===e?"What's on?":"people"===e?"People":"search"===e?"Search":"tvshows"===e?"TV Shows":"Error",r=(e,t)=>"movies"===e?"movie":"people"===e?"person":"tvshows"===e?"render"===t?"tvshow":"tv":"multi"},48:function(e,t,n){"use strict";var a,r,o=n(7),i=n(0),l=n.n(i),c=n(1),s=n(37),m=n(31);const d=Object(c.d)(s.a)(a||(a=Object(o.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 4rem auto;\n  text-align: center;\n  svg {\n    color: ",";\n  }\n"])),e=>e.theme.colors.grey),u=c.d.div(r||(r=Object(o.a)(["\n  font-size: 3rem;\n  margin: 0.5em;\n"])));t.a=e=>{let{emoji:t,title:n,description:a,...r}=e;return l.a.createElement(d,r,t&&l.a.createElement(u,null,t),n&&l.a.createElement(m.a,{xs:1,md:2,weight:600,style:{margin:"1rem 0 0.5rem"}},n),a&&l.a.createElement(m.a,{color:e=>e.theme.colors.lightGrey},a))}},50:function(e,t,n){"use strict";var a,r,o=n(7),i=n(0),l=n.n(i),c=n(1);const s=c.d.div(a||(a=Object(o.a)(["\n  height: 0;\n  overflow: hidden;\n  padding-top: ",";\n  position: relative;\n"])),e=>"".concat(1/e.ratio*100,"%")),m=c.d.div(r||(r=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"])));t.a=e=>{let{ratio:t=1,children:n,...a}=e;return l.a.createElement(s,Object.assign({ratio:t},a),l.a.createElement(m,null,n))}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(42);const i=(e,t,n,a,i,l,c,s,m,d,u,p,g,v,b,h,f,y,j,w,E,_,O,k,x)=>{const S={allocine_users:{image:"allocine-logo.png",name:"AlloCin\xe9 users"},allocine_critics:{image:"allocine-logo.png",name:"AlloCin\xe9 critics"},betaseries:{image:"betaseries-logo.png",name:"BetaSeries users"},imdb:{image:"imdb-logo.png",name:"IMDb users"},metacritic_users:{image:"metacritic-logo.png",name:"Metacritic users"},metacritic_critics:{image:"metacritic-logo.png",name:"Metacritic critics"},rottenTomatoes_users:{image:"rotten-tomatoes-logo.png",name:"Rotten Tomatoes users"},rottenTomatoes_critics:{image:"rotten-tomatoes-logo.png",name:"Rotten Tomatoes critics"},senscritique:{image:"senscritique-logo.png",name:"SensCritique users"},tmdb:{image:"tmdb-logo.png",name:"TMDB users"},trakt:{image:"trakt-logo.png",name:"Trakt users"},mojo_box_office:{image:"mojo-logo.png",name:"Mojo worldwide"}},C=[{image:S.allocine_users.image,name:S.allocine_users.name,rating:n},{image:S.allocine_critics.image,name:S.allocine_critics.name,rating:e},{image:S.betaseries.image,name:S.betaseries.name,rating:i},{image:S.imdb.image,name:S.imdb.name,rating:c},{image:S.metacritic_users.image,name:S.metacritic_users.name,rating:p},{image:S.metacritic_critics.image,name:S.metacritic_critics.name,rating:d},{image:S.rottenTomatoes_users.image,name:S.rottenTomatoes_users.name,rating:b},{image:S.rottenTomatoes_critics.image,name:S.rottenTomatoes_critics.name,rating:g},{image:S.senscritique.image,name:S.senscritique.name,rating:f},{image:S.tmdb.image,name:S.tmdb.name,rating:j},{image:S.trakt.image,name:S.trakt.name,rating:E}];"movie"!==k&&"movies"!==x||(S.letterboxd={image:"letterboxd-logo.png",name:"Letterboxd users"},C.splice(4,0,{image:S.letterboxd.image,name:S.letterboxd.name,rating:m}));const I=[{image:S.mojo_box_office.image,name:S.mojo_box_office.name,rank:_}],R=e=>e.replace(/(_gen_cfilm=|_gen_cserie=)/,"-").replace(/\.html$/,"");return{detailsData:C,mojoDetailsData:I,logoBody:e=>{const t=e.image,n=e.name;return r.a.createElement("div",{className:"flex align-items-center p-overlaypanel-logo"},r.a.createElement("img",{alt:n,src:"".concat(o.a.base_render,"/").concat(t)}))},nameBody:e=>{const n=e.name,o=e.rating,i=e.rank;let c;return c="AlloCin\xe9 users"===n&&o>0?r.a.createElement("a",{href:"".concat(R(t),"/critiques/"),target:"_blank",rel:"noopener noreferrer"},n):"AlloCin\xe9 critics"===n&&o>0?r.a.createElement("a",{href:"".concat(R(t),"/critiques/presse/"),target:"_blank",rel:"noopener noreferrer"},n):"BetaSeries users"===n&&o>0?r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},n):"IMDb users"===n&&o>0?r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},n):"Letterboxd users"===n&&o>0?r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n):"Metacritic users"===n&&o>0?r.a.createElement("a",{href:"".concat(u,"/user-reviews"),target:"_blank",rel:"noopener noreferrer"},n):"Metacritic critics"===n&&o>0?r.a.createElement("a",{href:"".concat(u,"/critic-reviews"),target:"_blank",rel:"noopener noreferrer"},n):"Rotten Tomatoes users"===n&&o>0||"Rotten Tomatoes critics"===n&&o>0?r.a.createElement("a",{href:"".concat(v),target:"_blank",rel:"noopener noreferrer"},n):"SensCritique users"===n&&o>0?r.a.createElement("a",{href:h,target:"_blank",rel:"noopener noreferrer"},n):"TMDB users"===n&&o>0?r.a.createElement("a",{href:y,target:"_blank",rel:"noopener noreferrer"},n):"Trakt users"===n&&o>0?r.a.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},n):"Mojo worldwide"===n&&i>0?r.a.createElement("a",{href:"".concat(O),target:"_blank",rel:"noopener noreferrer"},n):n,r.a.createElement("div",{className:"flex align-items-center"},c)},ratingBody:e=>{const t=e.rating;let n=5;return"IMDb users"===e.name||"Metacritic users"===e.name||"SensCritique users"===e.name||"TMDB users"===e.name?n=10:"Metacritic critics"!==e.name&&"Rotten Tomatoes users"!==e.name&&"Rotten Tomatoes critics"!==e.name&&"Trakt users"!==e.name||(n=100),t>0?r.a.createElement("span",{className:"rating_value"},r.a.createElement("span",null,"\u2605")," ",t,r.a.createElement("span",null,"/",n)):"/"},rankBody:e=>{const t=e.rank;return t>0?r.a.createElement("span",{className:"rank_value"},r.a.createElement("span",{role:"img","aria-label":"trophy"},"\ud83c\udfc6")," ",t):"/"}}}},74:function(e,t,n){"use strict";var a,r,o,i,l,c,s,m,d,u,p,g,v,b=n(7),h=n(0),f=n.n(h),y=n(1),j=n(75),w=n.n(j),E=n(9),_=n(41),O=n(50),k=n(31),x=n(39),S=n(76),C=n(77),I=n(79),R=n(51);const T=y.d.div(a||(a=Object(b.a)(["\n  background: none;\n  border: none;\n  margin: 0;\n  flex: 1;\n  display: flex;\n  position: relative;\n  background: ",";\n  border-radius: 0.1875rem;\n  cursor: pointer;\n"])),e=>e.error?e.theme.colors.red:e.theme.colors.grey),M="position: absolute; top: 0; bottom: 0; left: 0; right: 0;",L=Object(y.d)(_.a)(r||(r=Object(b.a)(["\n  appearance: none;\n  width: 100%;\n  color: currentColor;\n  display: block;\n  border-radius: 0.1875rem;\n  z-index: 1;\n  ","\n  &:focus {\n    ","\n  }\n"])),M,e=>e.theme.focusShadow),D=y.d.div(o||(o=Object(b.a)(["\n  ","\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n"])),M),q=Object(y.d)(D)(i||(i=Object(b.a)(["\n  overflow: hidden;\n  border-radius: 0.1875rem;\n"]))),z=y.d.img(l||(l=Object(b.a)(["\n  display: block;\n  min-height: 100%;\n  object-fit: cover;\n  transition: 0.2s all;\n"]))),B=y.d.div(c||(c=Object(b.a)(["\n  width: 100%;\n  margin-top: auto;\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n  background: ",";\n  box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  border-radius: 0 0 0.1875rem 0.1875rem;\n"])),e=>e.theme.colors.overlay),W=y.d.div(s||(s=Object(b.a)(["\n  width: 100%;\n  margin-top: auto;\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n  background: none;\n  box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  border-radius: 0 0 0.1875rem 0.1875rem;\n  @media (hover: hover) {\n    border-radius: 0.1875rem;\n    height: 100%;\n    background: none;\n    box-shadow: none;\n  }\n  ",":hover &, ",":focus-within & {\n    background: none;\n    box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  }\n"])),T,T),F=y.d.button(m||(m=Object(b.a)(["\n  background: none;\n  border: none;\n  margin: 0;\n  color: currentColor;\n  top: 0;\n  right: 0;\n  left: auto;\n  padding: 0.75rem;\n  cursor: pointer;\n  z-index: 1;\n  position: absolute;\n  @media (hover: hover) {\n    margin-left: auto;\n    opacity: ",";\n  }\n  ",":hover &, ",":focus-within & {\n    opacity: 1;\n  }\n"])),e=>e.isFavorite?1:0,T,T),U=Object(y.d)(x.c)(d||(d=Object(b.a)(["\n  transition: 0.2s all;\n  ",":focus &, ",":hover & {\n    color: ",";\n  }\n"])),F,F,e=>e.theme.colors.red),A=y.d.div(u||(u=Object(b.a)(["\n  color: currentColor;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  position: relative;\n  padding: 0.75rem;\n  cursor: pointer;\n  overflow: hidden;\n  opacity: 1;\n"]))),N=y.d.div(p||(p=Object(b.a)(["\n  color: currentColor;\n  position: absolute;\n  top: 0;\n  padding: 0.75rem;\n  background: #181818;\n  border-radius: 24px;\n  margin: 0.6rem;\n  padding: 5px;\n  width: 60px;\n  text-align: center;\n  font-weight: bold;\n"]))),G=y.d.div(g||(g=Object(b.a)(["\n  ","\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: ",";\n"])),M,e=>e.theme.colors.midGrey),P=e=>{let{kindURL:t,id:n,title:a}=e;const[r,{toggle:o}]=Object(E.b)(t+"/"+n);return f.a.createElement(F,{isFavorite:r,onClick:o,"aria-label":"favorite: ".concat(a)},f.a.createElement(U,{filled:r}))},J=Object(y.d)(k.a)(v||(v=Object(b.a)(["\n  text-align: center;\n  height: 100%;\n  margin: auto;\n  ",":hover & {\n    color: ",";\n  }\n"])),T,e=>e.theme.colors.lightGrey);t.a=e=>{var t,n,a,r,o,i,l,c,s,m,d,u,p,g,v,b,y,j,E,_,M,F,U;let{id:H,loading:$,error:V,loadMore:K,...Q}=e;const X=null===Q||void 0===Q?void 0:Q.media_type,Y=("movie"===(Z=null===Q||void 0===Q?void 0:Q.media_type)?"movies":"tv"===Z?"tvshows":"person"===Z?"people":Z)||Q.kindURL;var Z;const ee=(null===Q||void 0===Q?void 0:Q.title)||(null===Q||void 0===Q?void 0:Q.name);let te=(null===Q||void 0===Q?void 0:Q.poster_path)||(null===Q||void 0===Q?void 0:Q.profile_path)||(null===Q||void 0===Q?void 0:Q.image);te&&te.startsWith("/")&&(te="https://image.tmdb.org/t/p/w300".concat(te));const ne=(e,t,n)=>{let a="".concat(e.split("net")[0],"net/c_").concat(parseInt(2*t),"_").concat(parseInt(2*n)).concat(e.split("net")[1]);return e&&e.startsWith("https://image.tmdb.org")&&(a="https://image.tmdb.org/t/p/w300".concat(e)),a},ae=null===Q||void 0===Q||null===(t=Q.allocine)||void 0===t?void 0:t.url,re=null===Q||void 0===Q||null===(n=Q.allocine)||void 0===n?void 0:n.users_rating,oe=null===Q||void 0===Q||null===(a=Q.allocine)||void 0===a?void 0:a.critics_rating,ie=null===Q||void 0===Q||null===(r=Q.betaseries)||void 0===r?void 0:r.url,le=null===Q||void 0===Q||null===(o=Q.betaseries)||void 0===o?void 0:o.users_rating,ce=null===Q||void 0===Q||null===(i=Q.imdb)||void 0===i?void 0:i.url,se=null===Q||void 0===Q||null===(l=Q.imdb)||void 0===l?void 0:l.users_rating,me=null===Q||void 0===Q||null===(c=Q.letterboxd)||void 0===c?void 0:c.url,de=null===Q||void 0===Q||null===(s=Q.letterboxd)||void 0===s?void 0:s.users_rating,ue=null===Q||void 0===Q||null===(m=Q.mojo)||void 0===m?void 0:m.rank,pe=null===Q||void 0===Q||null===(d=Q.mojo)||void 0===d?void 0:d.url,ge=null===Q||void 0===Q||null===(u=Q.metacritic)||void 0===u?void 0:u.url,ve=null===Q||void 0===Q||null===(p=Q.metacritic)||void 0===p?void 0:p.users_rating,be=null===Q||void 0===Q||null===(g=Q.metacritic)||void 0===g?void 0:g.critics_rating,he=null===Q||void 0===Q||null===(v=Q.rotten_tomatoes)||void 0===v?void 0:v.url,fe=null===Q||void 0===Q||null===(b=Q.rotten_tomatoes)||void 0===b?void 0:b.users_rating,ye=null===Q||void 0===Q||null===(y=Q.rotten_tomatoes)||void 0===y?void 0:y.critics_rating,je=null===Q||void 0===Q||null===(j=Q.senscritique)||void 0===j?void 0:j.url,we=null===Q||void 0===Q||null===(E=Q.senscritique)||void 0===E?void 0:E.users_rating,Ee=null===Q||void 0===Q||null===(_=Q.tmdb)||void 0===_?void 0:_.url,_e=null===Q||void 0===Q||null===(M=Q.tmdb)||void 0===M?void 0:M.users_rating,Oe=null===Q||void 0===Q||null===(F=Q.trakt)||void 0===F?void 0:F.url,ke=null===Q||void 0===Q||null===(U=Q.trakt)||void 0===U?void 0:U.users_rating,xe=null===Q||void 0===Q?void 0:Q.ratings_average,Se=localStorage.getItem("item_type")?localStorage.getItem("item_type"):"movie",{detailsData:Ce,mojoDetailsData:Ie,logoBody:Re,nameBody:Te,ratingBody:Me,rankBody:Le}=Object(R.a)(oe,ae,re,ie,le,ce,se,me,de,be,ge,ve,ye,he,fe,je,we,Ee,_e,Oe,ke,ue,pe,Se,Y),De=Object(h.useRef)(null),qe=Object(h.useRef)(!1),[ze,Be]=Object(h.useState)(750),[We,Fe]=Object(h.useState)(500),Ue=Object(h.useRef)(null);return Object(h.useEffect)(()=>{Ue.current&&(Be(Ue.current.clientHeight),Fe(Ue.current.clientWidth))},[Ue]),f.a.createElement(T,Object.assign({error:V},Q),f.a.createElement(O.a,{ratio:.75}),!($||V||K)&&f.a.createElement(L,{to:"/".concat(Y,"/").concat(H),tabIndex:0,ariaLabel:"poster for: ".concat(ee)}),f.a.createElement(q,null,te&&f.a.createElement(w.a,{placeholder:ne(te,We,ze),src:ne(te,We,ze)},(e,t)=>f.a.createElement(z,{ref:Ue,src:e,alt:"poster for: ".concat(ee),height:ze,width:We,loading:+t}))),K&&f.a.createElement(J,{xs:1,weight:500,color:e=>e.theme.colors.midGrey},"Load",f.a.createElement("br",null),"More"),f.a.createElement(D,null,!te&&!$&&!K&&f.a.createElement(G,null,"movie"===X&&f.a.createElement(x.e,null),"tvshow"===X&&f.a.createElement(x.i,null),"person"===X&&f.a.createElement(x.f,null)),!K&&f.a.createElement(B,null,ee&&f.a.createElement(A,null,f.a.createElement(k.a,{xs:0,sm:1,weight:500,style:{marginBottom:"0.25em"}},ee)),f.a.createElement("div",{style:{display:"flex",alignItems:"center"}},H&&f.a.createElement(P,{kindURL:Y,id:H,title:ee}))),!K&&f.a.createElement(W,null,xe>0&&f.a.createElement(N,{className:"rating_details",onClick:e=>{qe.current&&Ce?(De.current.hide(e),qe.current=!1):(De.current.show(e),qe.current=!0)}},f.a.createElement("span",{style:{color:"#28A745"}},"\u2605")," ",xe.toFixed(1),f.a.createElement(S.a,{ref:De},f.a.createElement(I.a,{value:Ce,size:"small"},f.a.createElement(C.a,{body:Re}),f.a.createElement(C.a,{header:"Name",body:Te,style:{minWidth:"11rem"}}),f.a.createElement(C.a,{field:"rating",header:"Rating",body:Me})),"movie"===Se&&f.a.createElement(I.a,{value:Ie,size:"small"},f.a.createElement(C.a,{body:Re}),f.a.createElement(C.a,{header:"-",body:Te,style:{minWidth:"11rem"}}),f.a.createElement(C.a,{field:"rank",header:"Rank",body:Le})))))))}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const a=(e,t,n)=>e?"".concat(n,"=").concat(e,"&"):"undefined"!==typeof t?"".concat(n,"=").concat(t,"&"):"",r=(e,t,n)=>e?"".concat(n,"=").concat("ratings_filters"===n?e:encodeURIComponent(e),"&"):"undefined"!==typeof t?"".concat(n,"=").concat("ratings_filters"===n?t:encodeURIComponent(t),"&"):"".concat(n,"=all&"),o=(e,t,n,o,i,l,c,s,m,d,u,p,g,v,b,h)=>{let f="?";return f+=a(e,t,"cinema_id"),f+=a(n,o,"item_type"),f+=a(i,l,"minimum_ratings"),f+=a(m,d,"popularity_filters"),f+=a(g,v,"seasons_number"),f+=a(b,h,"status"),f+=r(c,s,"platforms"),f+=r(u,p,"ratings_filters"),f=f.replace(/&$/,""),f}},88:function(e){e.exports=JSON.parse('{"name":"whatson","description":"What\'s on?","version":"2.3.1","private":false,"dependencies":{"@reach/router":"^1.3.4","context-storage":"^0.0.0","griding":"^0.1.3","minireset.css":"^0.0.4","prettier":"^3.2.5","primeicons":"^6.0.1","primereact":"^9.6.4","query-string":"^8.2.0","react":"^17.0.2","react-dom":"^17.0.2","react-hooks-fetch":"^0.5.1","react-intersection-observer":"^8.34.0","react-lazy-progressive-image":"^1.5.5","react-player":"^2.16.0","react-scripts":"^3.4.4","styled-components":"^4.4.1","stylis":"^3.5.4","typeface-roboto":"^1.1.13"},"scripts":{"build":"npm run prettier && rescripts build","dev":"rescripts start","eject":"rescripts eject","postbuild":"cp build/index.html build/404.html && cp build/index.html build/200.html","prebuild":"node ./build-version","prettier":"prettier --write .","surge":"npm run build && surge build whatson-dev.surge.sh","teardown":"surge teardown whatson-dev.surge.sh","update":"rm -rf node_modules package-lock.json && bash update-dependencies.sh && npm i --legacy-peer-deps"},"rescripts":["env"],"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"],"devDependencies":{"@babel/plugin-proposal-export-default-from":"^7.2.0","@babel/plugin-proposal-optional-chaining":"^7.2.0","@babel/plugin-syntax-dynamic-import":"^7.2.0","@babel/plugin-transform-runtime":"^7.2.0","@rescripts/cli":"^0.0.10","@rescripts/rescript-env":"^0.0.5","babel-plugin-preval":"^3.0.1","cz-conventional-changelog":"^3.3.0"},"config":{"commitizen":{"path":"./node_modules/cz-conventional-changelog"}}}')}}]);
//# sourceMappingURL=20.289fc6f8.chunk.js.map