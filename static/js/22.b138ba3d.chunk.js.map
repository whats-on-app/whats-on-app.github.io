{"version":3,"sources":["components/Card/FetchCard.js","components/FavoritesView/index.js","components/Text/index.js","utils/breakpoints.js","utils/pixels.js","utils/above.js","utils/kind.js","components/InfoScreen/index.js","components/AspectRatio/index.js","utils/getRatingsDetails.js","components/Card/index.js"],"names":["FetchCard","_ref","kindURL","id","error","loading","data","useFetch","concat","getKindByURL","process","join","React","createElement","Card","Object","assign","Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","getTitle","length","SearchView","favoritesSet","useFavorites","favorites","useEffect","document","title","Container","Fragment","Text","weight","xs","sm","md","xg","Row","vertical-gutter","style","marginTop","marginBottom","map","favorite","Cell","key","split","InfoScreen","emoji","HeartBreak","size","margin","description","p","color","mapPropsBreakpoints","breakpoints","theme","fn","x","typography","props","keys","filter","prop","includes","label","above","defaultProps","parse","value","arguments","undefined","type","test","parseFloat","stringify","utility","reduce","acc","css","width","_len","args","Array","_key","_templateObject2","getTitleFromURL","kind","input","source","colors","grey","Emoji","lightGrey","Outer","ratio","Inner","AspectRatio","children","getRatingsDetails","allocine_critics_rating","allocine_url","allocine_users_rating","betaseries_url","betaseries_users_rating","imdb_url","imdb_users_rating","letterboxd_url","letterboxd_users_rating","metacritic_critics_rating","metacritic_url","metacritic_users_rating","rottenTomatoes_critics_rating","rottenTomatoes_url","rottenTomatoes_users_rating","senscritique_url","senscritique_users_rating","tmdb_url","tmdb_users_rating","trakt_url","trakt_users_rating","mojo_rank","mojo_url","itemType","detailsConfig","allocine_users","image","name","allocine_critics","betaseries","imdb","metacritic_users","metacritic_critics","rottenTomatoes_users","rottenTomatoes_critics","senscritique","tmdb","trakt","mojo_box_office","detailsData","rating","letterboxd","splice","mojoDetailsData","rank","editURL","url","replace","logoBody","rowData","className","alt","src","config","base_render","nameBody","link","href","target","rel","ratingBody","maxRating","rankBody","role","aria-label","red","fill","Anchor","Link","focusShadow","AbsoluteFill","_templateObject3","OverflowHidden","_templateObject4","Image","img","_templateObject5","Overlay","_templateObject6","overlay","OverlayRatings","_templateObject7","HeartWrapper","button","_templateObject8","isFavorite","StyledHeart","Heart","_templateObject9","Info","_templateObject10","InfoRatings","_templateObject11","NoImage","_templateObject12","midGrey","FavoriteButton","toggle","useFavoriteState","onClick","filled","LoadMore","_templateObject13","_ref2","_props$allocine","_props$allocine2","_props$allocine3","_props$betaseries","_props$betaseries2","_props$imdb","_props$imdb2","_props$letterboxd","_props$letterboxd2","_props$mojo","_props$mojo2","_props$metacritic","_props$metacritic2","_props$metacritic3","_props$rotten_tomatoe","_props$rotten_tomatoe2","_props$rotten_tomatoe3","_props$senscritique","_props$senscritique2","_props$tmdb","_props$tmdb2","_props$trakt","_props$trakt2","loadMore","media_type","poster_path","profile_path","startsWith","getPlaceholder","height","placeholder","parseInt","allocine","users_rating","critics_rating","mojo","metacritic","rotten_tomatoes","ratings_average","localStorage","getItem","op","useRef","isMounted","setHeight","useState","setWidth","imgEl","current","clientHeight","clientWidth","to","tabIndex","ariaLabel","LazyImage","ref","Movie","TVShow","Person","display","alignItems","e","hide","show","toFixed","OverlayPanel","DataTable","Column","body","header","minWidth","field"],"mappings":"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","file":"static/js/22.b138ba3d.chunk.js","sourcesContent":["import React from \"react\";\nimport { useFetch } from \"react-hooks-fetch\";\nimport { getKindByURL } from \"utils/kind\";\nimport Card from \"./index\";\n\n/**\n * A component that fetches data from a given URL and renders a Card component with the fetched data.\n * @param {string} kindURL - The URL of the kind of data to fetch.\n * @param {string} id - The ID of the specific data to fetch.\n * @returns A Card component with the fetched data, or a loading or error component if the data is not yet available or an error occurred.\n */\nconst FetchCard = ({ kindURL, id }) => {\n  const { error, loading, data } = useFetch(\n    [\n      `https://api.themoviedb.org/3/${getKindByURL(kindURL)}/${id}`,\n      `?api_key=${process.env.REACT_APP_TMDB_KEY}`,\n    ].join(\"\"),\n  );\n\n  if (loading) return <Card loading />;\n  if (error) return <Card error />;\n\n  return <Card id={id} kindURL={kindURL} {...data} />;\n};\n\nexport default FetchCard;\n","import React, { Fragment, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Cell } from \"griding\";\nimport { useFavorites } from \"utils/favorites\";\nimport Container from \"components/Container\";\nimport FetchCard from \"components/Card/FetchCard\";\nimport InfoScreen from \"components/InfoScreen\";\nimport Text from \"components/Text\";\nimport { HeartBreak } from \"components/Icon\";\n\nconst Wrapper = styled.div`\n\tflex: 1\n\tdisplay: flex;\n\tflex-direction: column;\n\ttransition: 0.2s all;\n`;\n\nconst getTitle = (length) =>\n  `${\n    !length\n      ? \"no favorites\"\n      : `${length} ${length > 1 ? `favorites` : `favorite`}`\n  }`;\n\n/**\n * A functional component that displays a list of favorite movies, tvshows, or people.\n * @returns A JSX element that displays the list of favorites.\n */\nconst SearchView = () => {\n  const [favoritesSet] = useFavorites();\n  const favorites = [...favoritesSet] || [];\n  useEffect(() => {\n    document.title = \"Movies - \" + getTitle(favorites.length);\n  }, [favorites.length]);\n\n  return (\n    <Wrapper>\n      <Container>\n        {!favorites.length ? (\n          <InfoScreen\n            emoji={<HeartBreak size={96} style={{ margin: \"1rem\" }} />}\n            title=\"You don't have any favorites yet\"\n            description=\"you can add movies, tvshows or people to your favorites by clicking on the ♥ icon\"\n          />\n        ) : (\n          <Fragment>\n            <Text weight={600} xs={2} sm={3} md={4} xg={5}>\n              {getTitle(favorites.length)}\n            </Text>\n            <Row\n              vertical-gutter\n              style={{ marginTop: \"2rem\", marginBottom: \"2rem\" }}\n            >\n              {favorites.map((favorite) => (\n                <Cell key={favorite} xs={6} sm={4} md={3} xg={2}>\n                  <FetchCard\n                    kindURL={favorite?.split(\"/\")[0]}\n                    id={favorite?.split(\"/\")[1]}\n                  />\n                </Cell>\n              ))}\n            </Row>\n          </Fragment>\n        )}\n      </Container>\n    </Wrapper>\n  );\n};\n\nexport default SearchView;\n","import styled from \"styled-components\";\nimport { mapPropsBreakpoints } from \"utils/breakpoints\";\n\nconst Text = styled.div`\n  color: ${(p) => p.color || \"currentColor\"};\n  font-weight: ${(p) => p.weight};\n  ${(p) =>\n    mapPropsBreakpoints(p.theme.breakpoints, (x) => p.theme.typography[x])}\n`;\n\nText.defaultProps = { xs: 0 };\n\nexport default Text;\n","import { utility as above } from \"./above\";\n\n/**\n * Maps the breakpoints of a given object to a function that takes in the value of the breakpoint\n * and the original object of props.\n * @param {object} breakpoints - an object containing the breakpoints to map\n * @param {function} fn - the function to map the breakpoints to\n * @returns A function that takes in an object of props and returns an array of mapped breakpoints.\n */\nexport const mapPropsBreakpoints = (breakpoints, fn) => (props) =>\n  Object.keys(props)\n    .filter((prop) => Object.keys(breakpoints).includes(prop))\n    .map((label) => above(breakpoints)[label]`${fn(props[label], props)}`);\n","/**\n * Parses a value and returns a number if possible. If the value is not a number or a string,\n * returns 0. If the value is a string, it will attempt to parse it as a pixel or rem value.\n * @param {number|string} [value=0] - The value to parse.\n * @returns {number} - The parsed value as a number.\n */\nexport const parse = (value = 0) => {\n  const type = typeof value;\n  if (type === \"number\") return value;\n  if (type !== \"string\") return 0;\n  if (/^\\d+px/.test(value)) return parseFloat(value, 10);\n  if (/^\\d+rem/.test(value)) return parseFloat(value) * 16;\n  return value;\n};\n\nexport const stringify = (value = 0) =>\n  !!parse(value) ? `${parse(value)}px` : value;\n","import { css } from \"styled-components\";\nimport { stringify, parse } from \"./pixels\";\n\nexport const utility = (breakpoints) =>\n  Object.keys(breakpoints).reduce((acc, label) => {\n    acc[label] = (...args) => css`\n      @media (min-width: ${stringify(parse(breakpoints[label].width))}) {\n        ${css(...args)}\n      }\n    `;\n    return acc;\n  }, {});\n\n/**\n * Returns a function that generates a CSS media query for screens above a certain width.\n * @param {string} label - The label for the breakpoint to target.\n * @returns A function that generates a CSS media query.\n */\nexport const above =\n  (label) =>\n  (...args) =>\n  ({ theme }) => css`\n    @media (min-width: ${stringify(parse(theme.breakpoints[label].width))}) {\n      ${css(...args)}\n    }\n  `;\n\nexport default above;\n","export const getTitleFromURL = (kind) => {\n  if (kind === \"movies\") return \"Movies\";\n  if (kind === \"multi\") return \"What's on?\";\n  if (kind === \"people\") return \"People\";\n  if (kind === \"search\") return \"Search\";\n  if (kind === \"tvshows\") return \"TV Shows\";\n  return \"Error\";\n};\n\nexport const getKindByURL = (input, source) => {\n  const tvshowValue = source === \"render\" ? \"tvshow\" : \"tv\";\n\n  if (input === \"movies\") return \"movie\";\n  if (input === \"people\") return \"person\";\n  if (input === \"tvshows\") return tvshowValue;\n  return \"multi\";\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Container from \"components/Container\";\nimport Text from \"components/Text\";\n\nconst Wrapper = styled(Container)`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 4rem auto;\n  text-align: center;\n  svg {\n    color: ${(p) => p.theme.colors.grey};\n  }\n`;\n\nconst Emoji = styled.div`\n  font-size: 3rem;\n  margin: 0.5em;\n`;\n\n/**\n * A component that displays information in a styled wrapper.\n * @param {string} emoji - The emoji to display in the component.\n * @param {string} title - The title to display in the component.\n * @param {string} description - The description to display in the component.\n * @param {object} props - Additional props to pass to the component.\n * @returns A styled wrapper component that displays the given information.\n */\nconst InfoScreen = ({ emoji, title, description, ...props }) => (\n  <Wrapper {...props}>\n    {emoji && <Emoji>{emoji}</Emoji>}\n    {title && (\n      <Text xs={1} md={2} weight={600} style={{ margin: \"1rem 0 0.5rem\" }}>\n        {title}\n      </Text>\n    )}\n    {description && (\n      <Text color={(p) => p.theme.colors.lightGrey}>{description}</Text>\n    )}\n  </Wrapper>\n);\n\nexport default InfoScreen;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Outer = styled.div`\n  height: 0;\n  overflow: hidden;\n  padding-top: ${(p) => `${(1 / p.ratio) * 100}%`};\n  position: relative;\n`;\n\nconst Inner = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\n/**\n * A component that maintains a given aspect ratio for its children.\n * @param {number} [ratio=1] - The aspect ratio to maintain.\n * @param {ReactNode} children - The child elements to render.\n * @param {Object} props - Additional props to pass to the component.\n * @returns The component with the given aspect ratio and children.\n */\nconst AspectRatio = ({ ratio = 1, children, ...props }) => (\n  <Outer ratio={ratio} {...props}>\n    <Inner>{children}</Inner>\n  </Outer>\n);\n\nexport default AspectRatio;\n","import React from \"react\";\nimport config from \"./config\";\n\nexport const getRatingsDetails = (\n  allocine_critics_rating,\n  allocine_url,\n  allocine_users_rating,\n  betaseries_url,\n  betaseries_users_rating,\n  imdb_url,\n  imdb_users_rating,\n  letterboxd_url,\n  letterboxd_users_rating,\n  metacritic_critics_rating,\n  metacritic_url,\n  metacritic_users_rating,\n  rottenTomatoes_critics_rating,\n  rottenTomatoes_url,\n  rottenTomatoes_users_rating,\n  senscritique_url,\n  senscritique_users_rating,\n  tmdb_url,\n  tmdb_users_rating,\n  trakt_url,\n  trakt_users_rating,\n  mojo_rank,\n  mojo_url,\n  itemType,\n  kindURL,\n) => {\n  const detailsConfig = {\n    allocine_users: {\n      image: \"allocine-logo.png\",\n      name: \"AlloCiné users\",\n    },\n    allocine_critics: {\n      image: \"allocine-logo.png\",\n      name: \"AlloCiné critics\",\n    },\n    betaseries: {\n      image: \"betaseries-logo.png\",\n      name: \"BetaSeries users\",\n    },\n    imdb: {\n      image: \"imdb-logo.png\",\n      name: \"IMDb users\",\n    },\n    metacritic_users: {\n      image: \"metacritic-logo.png\",\n      name: \"Metacritic users\",\n    },\n    metacritic_critics: {\n      image: \"metacritic-logo.png\",\n      name: \"Metacritic critics\",\n    },\n    rottenTomatoes_users: {\n      image: \"rotten-tomatoes-logo.png\",\n      name: \"Rotten Tomatoes users\",\n    },\n    rottenTomatoes_critics: {\n      image: \"rotten-tomatoes-logo.png\",\n      name: \"Rotten Tomatoes critics\",\n    },\n    senscritique: {\n      image: \"senscritique-logo.png\",\n      name: \"SensCritique users\",\n    },\n    tmdb: {\n      image: \"tmdb-logo.png\",\n      name: \"TMDB users\",\n    },\n    trakt: {\n      image: \"trakt-logo.png\",\n      name: \"Trakt users\",\n    },\n    mojo_box_office: {\n      image: \"mojo-logo.png\",\n      name: \"Mojo worldwide\",\n    },\n  };\n\n  const detailsData = [\n    {\n      image: detailsConfig.allocine_users.image,\n      name: detailsConfig.allocine_users.name,\n      rating: allocine_users_rating,\n    },\n    {\n      image: detailsConfig.allocine_critics.image,\n      name: detailsConfig.allocine_critics.name,\n      rating: allocine_critics_rating,\n    },\n    {\n      image: detailsConfig.betaseries.image,\n      name: detailsConfig.betaseries.name,\n      rating: betaseries_users_rating,\n    },\n    {\n      image: detailsConfig.imdb.image,\n      name: detailsConfig.imdb.name,\n      rating: imdb_users_rating,\n    },\n    {\n      image: detailsConfig.metacritic_users.image,\n      name: detailsConfig.metacritic_users.name,\n      rating: metacritic_users_rating,\n    },\n    {\n      image: detailsConfig.metacritic_critics.image,\n      name: detailsConfig.metacritic_critics.name,\n      rating: metacritic_critics_rating,\n    },\n    {\n      image: detailsConfig.rottenTomatoes_users.image,\n      name: detailsConfig.rottenTomatoes_users.name,\n      rating: rottenTomatoes_users_rating,\n    },\n    {\n      image: detailsConfig.rottenTomatoes_critics.image,\n      name: detailsConfig.rottenTomatoes_critics.name,\n      rating: rottenTomatoes_critics_rating,\n    },\n    {\n      image: detailsConfig.senscritique.image,\n      name: detailsConfig.senscritique.name,\n      rating: senscritique_users_rating,\n    },\n    {\n      image: detailsConfig.tmdb.image,\n      name: detailsConfig.tmdb.name,\n      rating: tmdb_users_rating,\n    },\n    {\n      image: detailsConfig.trakt.image,\n      name: detailsConfig.trakt.name,\n      rating: trakt_users_rating,\n    },\n  ];\n\n  if (itemType === \"movie\" || kindURL === \"movies\") {\n    detailsConfig.letterboxd = {\n      image: \"letterboxd-logo.png\",\n      name: \"Letterboxd users\",\n    };\n\n    detailsData.splice(4, 0, {\n      image: detailsConfig.letterboxd.image,\n      name: detailsConfig.letterboxd.name,\n      rating: letterboxd_users_rating,\n    });\n  }\n\n  const mojoDetailsData = [\n    {\n      image: detailsConfig.mojo_box_office.image,\n      name: detailsConfig.mojo_box_office.name,\n      rank: mojo_rank,\n    },\n  ];\n\n  const logoBody = (rowData) => {\n    const image = rowData.image;\n    const name = rowData.name;\n\n    return (\n      <div className=\"flex align-items-center p-overlaypanel-logo\">\n        <img alt={name} src={`${config.base_render}/${image}`} />\n      </div>\n    );\n  };\n\n  const ratingBody = (rowData) => {\n    const rating = rowData.rating;\n    let maxRating = 5;\n    if (\n      rowData.name === \"IMDb users\" ||\n      rowData.name === \"Metacritic users\" ||\n      rowData.name === \"SensCritique users\" ||\n      rowData.name === \"TMDB users\"\n    ) {\n      maxRating = 10;\n    } else if (\n      rowData.name === \"Metacritic critics\" ||\n      rowData.name === \"Rotten Tomatoes users\" ||\n      rowData.name === \"Rotten Tomatoes critics\" ||\n      rowData.name === \"Trakt users\"\n    ) {\n      maxRating = 100;\n    }\n\n    if (rating > 0)\n      return (\n        <span className=\"rating_value\">\n          <span>★</span> {rating}\n          <span>/{maxRating}</span>\n        </span>\n      );\n    return \"/\";\n  };\n\n  const rankBody = (rowData) => {\n    const rank = rowData.rank;\n\n    if (rank > 0) {\n      return (\n        <span className=\"rank_value\">\n          <span role=\"img\" aria-label=\"trophy\">\n            🏆\n          </span>{\" \"}\n          {rank}\n        </span>\n      );\n    }\n    return \"/\";\n  };\n\n  const editURL = (url) => {\n    const first_regex = /(_gen_cfilm=|_gen_cserie=)/;\n    const second_regex = /\\.html$/;\n\n    return url.replace(first_regex, \"-\").replace(second_regex, \"\");\n  };\n\n  const nameBody = (rowData) => {\n    const name = rowData.name;\n    const rating = rowData.rating;\n    const rank = rowData.rank;\n\n    let link;\n    if (name === \"AlloCiné users\" && rating > 0) {\n      link = (\n        <a\n          href={`${editURL(allocine_url)}/critiques/`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"AlloCiné critics\" && rating > 0) {\n      link = (\n        <a\n          href={`${editURL(allocine_url)}/critiques/presse/`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"BetaSeries users\" && rating > 0) {\n      link = (\n        <a href={betaseries_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"IMDb users\" && rating > 0) {\n      link = (\n        <a href={imdb_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"Letterboxd users\" && rating > 0) {\n      link = (\n        <a href={letterboxd_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"Metacritic users\" && rating > 0) {\n      link = (\n        <a\n          href={`${metacritic_url}/user-reviews`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"Metacritic critics\" && rating > 0) {\n      link = (\n        <a\n          href={`${metacritic_url}/critic-reviews`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"Rotten Tomatoes users\" && rating > 0) {\n      link = (\n        <a\n          href={`${rottenTomatoes_url}`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"Rotten Tomatoes critics\" && rating > 0) {\n      link = (\n        <a\n          href={`${rottenTomatoes_url}`}\n          target={\"_blank\"}\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </a>\n      );\n    } else if (name === \"SensCritique users\" && rating > 0) {\n      link = (\n        <a href={senscritique_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"TMDB users\" && rating > 0) {\n      link = (\n        <a href={tmdb_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"Trakt users\" && rating > 0) {\n      link = (\n        <a href={trakt_url} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else if (name === \"Mojo worldwide\" && rank > 0) {\n      link = (\n        <a href={`${mojo_url}`} target={\"_blank\"} rel=\"noopener noreferrer\">\n          {name}\n        </a>\n      );\n    } else {\n      link = name;\n    }\n\n    return <div className=\"flex align-items-center\">{link}</div>;\n  };\n\n  return {\n    detailsData,\n    mojoDetailsData,\n    logoBody,\n    nameBody,\n    ratingBody,\n    rankBody,\n  };\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport LazyImage from \"react-lazy-progressive-image\";\nimport { useFavoriteState } from \"utils/favorites\";\nimport Link from \"components/Link\";\nimport AspectRatio from \"components/AspectRatio\";\nimport Text from \"components/Text\";\nimport { Heart, Movie, Person, TVShow } from \"components/Icon\";\nimport { OverlayPanel } from \"primereact/overlaypanel\";\nimport { Column } from \"primereact/column\";\nimport { DataTable } from \"primereact/datatable\";\nimport { getRatingsDetails } from \"utils/getRatingsDetails\";\n\nconst Wrapper = styled.div`\n  background: none;\n  border: none;\n  margin: 0;\n  flex: 1;\n  display: flex;\n  position: relative;\n  background: ${(p) => (p.error ? p.theme.colors.red : p.theme.colors.grey)};\n  border-radius: 0.1875rem;\n  cursor: pointer;\n`;\n\nconst fill = `position: absolute; top: 0; bottom: 0; left: 0; right: 0;`;\n\nconst Anchor = styled(Link)`\n  appearance: none;\n  width: 100%;\n  color: currentColor;\n  display: block;\n  border-radius: 0.1875rem;\n  z-index: 1;\n  ${fill}\n  &:focus {\n    ${(p) => p.theme.focusShadow}\n  }\n`;\n\nconst AbsoluteFill = styled.div`\n  ${fill}\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n`;\n\nconst OverflowHidden = styled(AbsoluteFill)`\n  overflow: hidden;\n  border-radius: 0.1875rem;\n`;\n\nconst Image = styled.img`\n  display: block;\n  min-height: 100%;\n  object-fit: cover;\n  transition: 0.2s all;\n`;\n\nconst Overlay = styled.div`\n  width: 100%;\n  margin-top: auto;\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n  background: ${(p) => p.theme.colors.overlay};\n  box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  border-radius: 0 0 0.1875rem 0.1875rem;\n`;\n\nconst OverlayRatings = styled.div`\n  width: 100%;\n  margin-top: auto;\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: space-between;\n  background: none;\n  box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  border-radius: 0 0 0.1875rem 0.1875rem;\n  @media (hover: hover) {\n    border-radius: 0.1875rem;\n    height: 100%;\n    background: none;\n    box-shadow: none;\n  }\n  ${Wrapper}:hover &, ${Wrapper}:focus-within & {\n    background: none;\n    box-shadow: 0 0.25rem 2rem 0 rgba(5, 10, 13, 0.3);\n  }\n`;\n\nconst HeartWrapper = styled.button`\n  background: none;\n  border: none;\n  margin: 0;\n  color: currentColor;\n  top: 0;\n  right: 0;\n  left: auto;\n  padding: 0.75rem;\n  cursor: pointer;\n  z-index: 1;\n  position: absolute;\n  @media (hover: hover) {\n    margin-left: auto;\n    opacity: ${(p) => (p.isFavorite ? 1 : 0)};\n  }\n  ${Wrapper}:hover &, ${Wrapper}:focus-within & {\n    opacity: 1;\n  }\n`;\n\nconst StyledHeart = styled(Heart)`\n  transition: 0.2s all;\n  ${HeartWrapper}:focus &, ${HeartWrapper}:hover & {\n    color: ${(p) => p.theme.colors.red};\n  }\n`;\n\nconst Info = styled.div`\n  color: currentColor;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  position: relative;\n  padding: 0.75rem;\n  cursor: pointer;\n  overflow: hidden;\n  opacity: 1;\n`;\n\nconst InfoRatings = styled.div`\n  color: currentColor;\n  position: absolute;\n  top: 0;\n  padding: 0.75rem;\n  background: #181818;\n  border-radius: 24px;\n  margin: 0.6rem;\n  padding: 5px;\n  width: 60px;\n  text-align: center;\n  font-weight: bold;\n`;\n\nconst NoImage = styled.div`\n  ${fill}\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: ${(p) => p.theme.colors.midGrey};\n`;\n\nconst FavoriteButton = ({ kindURL, id, title }) => {\n  const [isFavorite, { toggle }] = useFavoriteState(kindURL + \"/\" + id);\n  return (\n    // eslint-disable-next-line no-sequences\n    <HeartWrapper\n      isFavorite={isFavorite}\n      onClick={toggle}\n      aria-label={`favorite: ${title}`}\n    >\n      <StyledHeart filled={isFavorite} />\n    </HeartWrapper>\n  );\n};\n\nconst LoadMore = styled(Text)`\n  text-align: center;\n  height: 100%;\n  margin: auto;\n  ${Wrapper}:hover & {\n    color: ${(p) => p.theme.colors.lightGrey};\n  }\n`;\n\nconst getKindURL = (input) => {\n  if (input === \"movie\") return \"movies\";\n  if (input === \"tv\") return \"tvshows\";\n  if (input === \"person\") return \"people\";\n  return input;\n};\n\n/**\n * A functional component that renders a card with information about a movie, tvshow, or person.\n * @param {object} props - The props object containing information about the card.\n * @param {string} props.id - The ID of the movie, tvshow, or person.\n * @param {boolean} props.loading - A boolean indicating whether the card is currently loading.\n * @param {boolean} props.error - A boolean indicating whether there was an error loading the card.\n * @param {boolean} props.loadMore - A boolean indicating whether the card should display a \"Load More\" button.\n * @param {string} props.media_type - The type of media (movie, tvshow, or person).\n * @param\n */\nconst Card = ({ id, loading, error, loadMore, ...props }) => {\n  const kind = props?.media_type;\n  const kindURL = getKindURL(props?.media_type) || props.kindURL;\n\n  const title = props?.title || props?.name;\n\n  let image = props?.poster_path || props?.profile_path || props?.image;\n  if (image && image.startsWith(\"/\")) {\n    image = `https://image.tmdb.org/t/p/w300${image}`;\n  }\n\n  const getPlaceholder = (image, width, height) => {\n    const compression = 2;\n    let placeholder = `${image.split(\"net\")[0]}net/c_${parseInt(\n      width * compression,\n    )}_${parseInt(height * compression)}${image.split(\"net\")[1]}`;\n    if (image && image.startsWith(\"https://image.tmdb.org\"))\n      placeholder = `https://image.tmdb.org/t/p/w300${image}`;\n    return placeholder;\n  };\n\n  const allocine_url = props?.allocine?.url;\n  const allocine_users_rating = props?.allocine?.users_rating;\n  const allocine_critics_rating = props?.allocine?.critics_rating;\n\n  const betaseries_url = props?.betaseries?.url;\n  const betaseries_users_rating = props?.betaseries?.users_rating;\n\n  const imdb_url = props?.imdb?.url;\n  const imdb_users_rating = props?.imdb?.users_rating;\n\n  const letterboxd_url = props?.letterboxd?.url;\n  const letterboxd_users_rating = props?.letterboxd?.users_rating;\n\n  const mojo_rank = props?.mojo?.rank;\n  const mojo_url = props?.mojo?.url;\n\n  const metacritic_url = props?.metacritic?.url;\n  const metacritic_users_rating = props?.metacritic?.users_rating;\n  const metacritic_critics_rating = props?.metacritic?.critics_rating;\n\n  const rottenTomatoes_url = props?.rotten_tomatoes?.url;\n  const rottenTomatoes_users_rating = props?.rotten_tomatoes?.users_rating;\n  const rottenTomatoes_critics_rating = props?.rotten_tomatoes?.critics_rating;\n\n  const senscritique_url = props?.senscritique?.url;\n  const senscritique_users_rating = props?.senscritique?.users_rating;\n\n  const tmdb_url = props?.tmdb?.url;\n  const tmdb_users_rating = props?.tmdb?.users_rating;\n\n  const trakt_url = props?.trakt?.url;\n  const trakt_users_rating = props?.trakt?.users_rating;\n\n  const ratings_average = props?.ratings_average;\n\n  const itemType = localStorage.getItem(\"item_type\")\n    ? localStorage.getItem(\"item_type\")\n    : \"movie\";\n\n  const {\n    detailsData,\n    mojoDetailsData,\n    logoBody,\n    nameBody,\n    ratingBody,\n    rankBody,\n  } = getRatingsDetails(\n    allocine_critics_rating,\n    allocine_url,\n    allocine_users_rating,\n    betaseries_url,\n    betaseries_users_rating,\n    imdb_url,\n    imdb_users_rating,\n    letterboxd_url,\n    letterboxd_users_rating,\n    metacritic_critics_rating,\n    metacritic_url,\n    metacritic_users_rating,\n    rottenTomatoes_critics_rating,\n    rottenTomatoes_url,\n    rottenTomatoes_users_rating,\n    senscritique_url,\n    senscritique_users_rating,\n    tmdb_url,\n    tmdb_users_rating,\n    trakt_url,\n    trakt_users_rating,\n    mojo_rank,\n    mojo_url,\n    itemType,\n    kindURL,\n  );\n\n  const op = useRef(null);\n  const isMounted = useRef(false);\n\n  const displayRatingsDetails = (e) => {\n    if (isMounted.current && detailsData) {\n      op.current.hide(e);\n      isMounted.current = false;\n    } else {\n      op.current.show(e);\n      isMounted.current = true;\n    }\n  };\n\n  const [height, setHeight] = useState(750);\n  const [width, setWidth] = useState(500);\n  const imgEl = useRef(null);\n\n  useEffect(() => {\n    if (imgEl.current) {\n      setHeight(imgEl.current.clientHeight);\n      setWidth(imgEl.current.clientWidth);\n    }\n  }, [imgEl]);\n\n  return (\n    <Wrapper error={error} {...props}>\n      <AspectRatio ratio={0.75} />\n      {!(loading || error || loadMore) && (\n        <Anchor\n          to={`/${kindURL}/${id}`}\n          tabIndex={0}\n          ariaLabel={`poster for: ${title}`}\n        />\n      )}\n      <OverflowHidden>\n        {image && (\n          <LazyImage\n            placeholder={getPlaceholder(image, width, height)}\n            src={getPlaceholder(image, width, height)}\n          >\n            {(src, loading) => (\n              <Image\n                ref={imgEl}\n                src={src}\n                alt={`poster for: ${title}`}\n                height={height}\n                width={width}\n                loading={+loading}\n              />\n            )}\n          </LazyImage>\n        )}\n      </OverflowHidden>\n      {loadMore && (\n        <LoadMore xs={1} weight={500} color={(p) => p.theme.colors.midGrey}>\n          Load\n          <br />\n          More\n        </LoadMore>\n      )}\n      <AbsoluteFill>\n        {!image && !loading && !loadMore && (\n          <NoImage>\n            {kind === \"movie\" && <Movie />}\n            {kind === \"tvshow\" && <TVShow />}\n            {kind === \"person\" && <Person />}\n          </NoImage>\n        )}\n        {!loadMore && (\n          <Overlay>\n            {title && (\n              <Info>\n                <Text\n                  xs={0}\n                  sm={1}\n                  weight={500}\n                  style={{ marginBottom: \"0.25em\" }}\n                >\n                  {title}\n                </Text>\n              </Info>\n            )}\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              {id && <FavoriteButton kindURL={kindURL} id={id} title={title} />}\n            </div>\n          </Overlay>\n        )}\n        {!loadMore && (\n          <OverlayRatings>\n            {ratings_average > 0 && (\n              <InfoRatings\n                className=\"rating_details\"\n                onClick={displayRatingsDetails}\n              >\n                <span style={{ color: \"#28A745\" }}>★</span>{\" \"}\n                {ratings_average.toFixed(1)}\n                <OverlayPanel ref={op}>\n                  <DataTable value={detailsData} size=\"small\">\n                    <Column body={logoBody} />\n                    <Column\n                      header=\"Name\"\n                      body={nameBody}\n                      style={{ minWidth: \"11rem\" }}\n                    />\n                    <Column field=\"rating\" header=\"Rating\" body={ratingBody} />\n                  </DataTable>\n                  {itemType === \"movie\" && (\n                    <DataTable value={mojoDetailsData} size=\"small\">\n                      <Column body={logoBody} />\n                      <Column\n                        header=\"-\"\n                        body={nameBody}\n                        style={{ minWidth: \"11rem\" }}\n                      />\n                      <Column field=\"rank\" header=\"Rank\" body={rankBody} />\n                    </DataTable>\n                  )}\n                </OverlayPanel>\n              </InfoRatings>\n            )}\n          </OverlayRatings>\n        )}\n      </AbsoluteFill>\n    </Wrapper>\n  );\n};\n\nexport default Card;\n"],"sourceRoot":""}